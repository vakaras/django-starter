<VirtualHost *:80>
    ServerName www.example.com
    ServerAlias example.com
    ServerAdmin webmaster@example.com

    DocumentRoot ${buildout:directory}/var/htdocs/
    <Directory ${buildout:directory}/var/htdocs/>
        Order allow,deny
        Allow from all
    </Directory>

    # TODO:ski: decide name for process user/group. Maybe set it to project
    # name in buildout.cfg ?
    WSGIScriptAlias / ${buildout:directory}/bin/production.wsgi
    WSGIDaemonProcess djangoproject user=www-data group=www-data processes=1 threads=1
    WSGIProcessGroup djangoproject

    <Location "/static">
        ExpiresActive On
        ExpiresDefault "access plus 1 hour"
        SetHandler None
    </Location>

    <Location "/media">
        Sethandler None
    </Location>

    LogLevel warn
    ErrorLog ${buildout:directory}/var/log/apache-error.log
    CustomLog ${buildout:directory}/var/log/apache-access.log combined
</VirtualHost>
