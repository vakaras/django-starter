<VirtualHost *:80>
    ServerName ${buildout:servername}
    ServerAdmin ${buildout:serveradmin}

    DocumentRoot ${buildout:directory}/var/htdocs/
    <Directory ${buildout:directory}/var/htdocs/>
        Order allow,deny
        Allow from all
    </Directory>

    WSGIDaemonProcess djangoproject processes=1 threads=1
    WSGIProcessGroup djangoproject

    WSGIScriptAlias / ${buildout:directory}/bin/production.wsgi

    <Directory ${buildout:directory}/bin/>
        Order allow,deny
        Allow from all
    </Directory>

    Alias /media/ ${buildout:directory}/var/htdocs/media/
    Alias /static/ ${buildout:directory}/var/htdocs/static/

    <Location "/static">
        ExpiresActive On
        ExpiresDefault "access plus 1 hour"
    </Location>

    LogLevel warn
    ErrorLog ${buildout:directory}/var/log/apache-error.log
    CustomLog ${buildout:directory}/var/log/apache-access.log combined
</VirtualHost>
